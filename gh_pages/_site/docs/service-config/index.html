<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <title>Service Configuration | Event Video Playback</title>
  <meta name="description" content="Configure the EventVideoPlayback Windows service for optimal performance">

  <link rel="stylesheet" href="/EventVideoPlayback/assets/css/style.css">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Service Configuration | Event Video Playback</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Service Configuration" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Configure the EventVideoPlayback Windows service for optimal performance" />
<meta property="og:description" content="Configure the EventVideoPlayback Windows service for optimal performance" />
<link rel="canonical" href="http://localhost:4000/EventVideoPlayback/docs/service-config/" />
<meta property="og:url" content="http://localhost:4000/EventVideoPlayback/docs/service-config/" />
<meta property="og:site_name" content="Event Video Playback" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-11-11T07:46:24-08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Service Configuration" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-11-11T07:46:24-08:00","datePublished":"2025-11-11T07:46:24-08:00","description":"Configure the EventVideoPlayback Windows service for optimal performance","headline":"Service Configuration","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/EventVideoPlayback/docs/service-config/"},"url":"http://localhost:4000/EventVideoPlayback/docs/service-config/"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
  <header class="site-header">
  <div class="container">
    <div class="header-content">
      <a class="site-title" href="/EventVideoPlayback/">
        Event Video Playback
      </a>
      <nav class="site-nav">
        <button class="mobile-menu-toggle" aria-label="Toggle menu">‚ò∞</button>
        <a href="/EventVideoPlayback/">Home</a>
        <a href="/EventVideoPlayback/docs/getting-started/">Getting Started</a>
        <a href="/EventVideoPlayback/docs/plc-usage/">PLC Library</a>
        <a href="/EventVideoPlayback/docs/service-config/">Service Config</a>
        <a href="/EventVideoPlayback/docs/hmi-usage/">HMI Usage</a>
        <a href="https://github.com/Beckhoff-USA-Community/EventVideoPlayback" target="_blank" class="btn btn-ghost" style="margin-left: 1rem;">GitHub</a>
      </nav>
    </div>
  </div>
</header>


  <main class="main-content">
    <div class="section doc-section" style="background-color: #f8f8f8; min-height: calc(100vh - 70px);">
  <div class="container">
    <!-- Mobile TOC Toggle -->
    <button class="doc-toc-mobile-toggle" id="mobile-toc-toggle">
      <span>üìë Table of Contents</span>
    </button>

    <div class="doc-layout">
      <!-- Table of Contents Sidebar -->
      <aside class="doc-sidebar" id="doc-sidebar">
        <nav class="doc-toc">
  <div class="doc-toc-header">
    <h3>On This Page</h3>
  </div>
  <ul class="doc-toc-list" id="doc-toc-list">
    <!-- JavaScript will populate this -->
  </ul>
</nav>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const content = document.querySelector('.doc-content');
  const tocList = document.getElementById('doc-toc-list');

  if (!content || !tocList) return;

  // Get only H2 headings
  const headings = content.querySelectorAll('h2');

  if (headings.length === 0) {
    // Hide TOC if no H2 headings found
    const tocNav = document.querySelector('.doc-toc');
    if (tocNav) {
      tocNav.style.display = 'none';
    }
    return;
  }

  headings.forEach((heading, index) => {
    // Create an ID if it doesn't exist
    if (!heading.id) {
      heading.id = 'heading-' + index;
    }

    // Create list item
    const li = document.createElement('li');

    // Create link
    const a = document.createElement('a');
    a.href = '#' + heading.id;
    a.textContent = heading.textContent;
    a.className = 'toc-link';

    li.appendChild(a);
    tocList.appendChild(li);
  });

  // Highlight current section on scroll
  const observerOptions = {
    rootMargin: '-100px 0px -66%',
    threshold: 0
  };

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      const id = entry.target.id;
      const tocLink = document.querySelector(`.toc-link[href="#${id}"]`);

      if (tocLink) {
        if (entry.isIntersecting) {
          // Remove active class from all links
          document.querySelectorAll('.toc-link').forEach(link => {
            link.classList.remove('active');
          });
          // Add active class to current link
          tocLink.classList.add('active');
        }
      }
    });
  }, observerOptions);

  // Observe all headings
  headings.forEach(heading => {
    observer.observe(heading);
  });

  // Smooth scroll for TOC links
  document.querySelectorAll('.toc-link').forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        const offsetTop = target.offsetTop - 100;
        window.scrollTo({
          top: offsetTop,
          behavior: 'smooth'
        });

        // Close mobile TOC after clicking
        const sidebar = document.querySelector('.doc-sidebar');
        if (sidebar && window.innerWidth < 1024) {
          sidebar.classList.remove('mobile-open');
        }
      }
    });
  });
});
</script>

      </aside>

      <!-- Main Content -->
      <div class="doc-main">
        <div class="doc-card">
          
          <h1>Service Configuration</h1>
          

          
          <p class="doc-meta">Configure the EventVideoPlayback Windows service for optimal performance</p>
          

          <!-- PDF Download Button -->
          
          

          
          <div class="doc-download-section">
            <a href="/EventVideoPlayback/assets/pdf/service-config.pdf" class="btn-download-pdf" download>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
              </svg>
              Download as PDF
            </a>
            <a href="/EventVideoPlayback/assets/pdf/complete-documentation.pdf" class="btn-download-pdf btn-download-complete" download>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="12" y1="18" x2="12" y2="12"></line>
                <line x1="9" y1="15" x2="15" y2="15"></line>
              </svg>
              Download Complete Docs
            </a>
          </div>
          

          <div class="doc-content">
            <h2 id="overview">Overview</h2>

<p>The EventVideoPlayback Service is a Windows background service that handles video creation and automatic file management. This guide covers all configuration options and troubleshooting steps.</p>

<h2 id="configuration-file-location">Configuration File Location</h2>

<p>The service configuration file is located at:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:\Program Files\Beckhoff USA Community\EventVideoPlayback\Service\EventVideoPlaybackService.config.json
</code></pre></div></div>

<p>Open this file with Notepad, Visual Studio, or any text editor.</p>

<h2 id="configuration-parameters">Configuration Parameters</h2>

<h3 id="default-configuration">Default Configuration</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CodecFourCC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"avc1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"VideoDeleteTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AdsPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">26129</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MaxFolderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="codecfourcc">CodecFourCC</h3>

<p><strong>Type:</strong> String
<strong>Default:</strong> <code class="language-plaintext highlighter-rouge">"avc1"</code>
<strong>Description:</strong> The video codec used to create MP4 videos from image sequences.</p>

<p>The <code class="language-plaintext highlighter-rouge">avc1</code> codec (H.264) is recommended as it provides:</p>
<ul>
  <li>Excellent compression</li>
  <li>Wide compatibility with web browsers</li>
  <li>Support for TwinCAT HMI playback</li>
  <li>Good balance between quality and file size</li>
</ul>

<h4 id="supported-codecs">Supported Codecs</h4>

<p>The service supports multiple codecs, but not all are web-compatible. For TwinCAT HMI compatibility, stick with these recommended options:</p>

<table>
  <thead>
    <tr>
      <th>Codec</th>
      <th>FourCC</th>
      <th>Description</th>
      <th>Web Compatible</th>
      <th>Recommended</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>H.264</td>
      <td><code class="language-plaintext highlighter-rouge">avc1</code></td>
      <td>Most common, best compatibility</td>
      <td>‚úì</td>
      <td><strong>Yes</strong></td>
    </tr>
    <tr>
      <td>H.264</td>
      <td><code class="language-plaintext highlighter-rouge">avc3</code></td>
      <td>Alternative H.264 variant</td>
      <td>‚úì</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>H.265/HEVC</td>
      <td><code class="language-plaintext highlighter-rouge">hev1</code></td>
      <td>Better compression, newer</td>
      <td>‚úì</td>
      <td>Maybe</td>
    </tr>
    <tr>
      <td>H.265/HEVC</td>
      <td><code class="language-plaintext highlighter-rouge">hvc1</code></td>
      <td>Alternative HEVC variant</td>
      <td>‚úì</td>
      <td>Maybe</td>
    </tr>
    <tr>
      <td>MPEG-4</td>
      <td><code class="language-plaintext highlighter-rouge">mp4v</code></td>
      <td>Older standard</td>
      <td>‚úì</td>
      <td>No</td>
    </tr>
    <tr>
      <td>VP9</td>
      <td><code class="language-plaintext highlighter-rouge">vp09</code></td>
      <td>Google‚Äôs codec</td>
      <td>‚úì</td>
      <td>No</td>
    </tr>
    <tr>
      <td>AV1</td>
      <td><code class="language-plaintext highlighter-rouge">av01</code></td>
      <td>Newest, best compression</td>
      <td>‚ö†</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h4 id="changing-the-codec">Changing the Codec</h4>

<p>To change the codec, edit the configuration file:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CodecFourCC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hev1"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Changed</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">H.</span><span class="mi">265</span><span class="w">
  </span><span class="nl">"VideoDeleteTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AdsPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">26129</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MaxFolderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>‚ö† Important:</strong> After changing any configuration, you must restart the service for changes to take effect.</p>

<h3 id="videodeletetime">VideoDeleteTime</h3>

<p><strong>Type:</strong> Decimal (floating-point)
<strong>Default:</strong> <code class="language-plaintext highlighter-rouge">1</code>
<strong>Units:</strong> Days
<strong>Description:</strong> How long video files are kept before automatic deletion.</p>

<p>The service automatically cleans up old videos based on this setting. This helps manage disk space and keep only relevant videos.</p>

<h4 id="examples">Examples</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">//</span><span class="w"> </span><span class="err">Keep</span><span class="w"> </span><span class="err">videos</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">day</span><span class="w"> </span><span class="err">(default)</span><span class="w">
</span><span class="nl">"VideoDeleteTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Keep</span><span class="w"> </span><span class="err">videos</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="err">hours</span><span class="w">
</span><span class="nl">"VideoDeleteTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Keep</span><span class="w"> </span><span class="err">videos</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">week</span><span class="w">
</span><span class="nl">"VideoDeleteTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Keep</span><span class="w"> </span><span class="err">videos</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="err">days</span><span class="w">
</span><span class="nl">"VideoDeleteTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Keep</span><span class="w"> </span><span class="err">videos</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="err">hours</span><span class="w">
</span><span class="nl">"VideoDeleteTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.083</span><span class="w">
</span></code></pre></div></div>

<h4 id="calculation-reference">Calculation Reference</h4>

<table>
  <thead>
    <tr>
      <th>Duration</th>
      <th>Value</th>
      <th>Calculation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1 hour</td>
      <td>0.042</td>
      <td>1/24</td>
    </tr>
    <tr>
      <td>6 hours</td>
      <td>0.25</td>
      <td>6/24</td>
    </tr>
    <tr>
      <td>12 hours</td>
      <td>0.5</td>
      <td>12/24</td>
    </tr>
    <tr>
      <td>1 day</td>
      <td>1.0</td>
      <td>24/24</td>
    </tr>
    <tr>
      <td>3 days</td>
      <td>3.0</td>
      <td>-</td>
    </tr>
    <tr>
      <td>1 week</td>
      <td>7.0</td>
      <td>-</td>
    </tr>
    <tr>
      <td>1 month</td>
      <td>30.0</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h3 id="adsport">AdsPort</h3>

<p><strong>Type:</strong> Integer
<strong>Default:</strong> <code class="language-plaintext highlighter-rouge">26129</code>
<strong>Description:</strong> The ADS port number the service listens on.</p>

<p><strong>‚ö† WARNING: DO NOT CHANGE THIS VALUE</strong></p>

<p>The PLC function blocks are configured to communicate with the service on port 26129. Changing this value will break PLC communication.</p>

<p>If you have a specific need to use a different port, you must:</p>
<ol>
  <li>Change this configuration value</li>
  <li>Recompile the PLC library with the new port number</li>
  <li>Update all PLC projects using the library</li>
</ol>

<h3 id="maxfoldersize">MaxFolderSize</h3>

<p><strong>Type:</strong> Integer
<strong>Default:</strong> <code class="language-plaintext highlighter-rouge">250</code>
<strong>Units:</strong> Megabytes (MB)
<strong>Description:</strong> Maximum total size of the video folder.</p>

<p>When a new video is created, the service checks the total folder size. If it exceeds this limit, the oldest videos are automatically deleted to free space.</p>

<h4 id="examples-1">Examples</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">//</span><span class="w"> </span><span class="err">Limit</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="mi">250</span><span class="w"> </span><span class="err">MB</span><span class="w"> </span><span class="err">(default)</span><span class="w">
</span><span class="nl">"MaxFolderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Limit</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">GB</span><span class="w">
</span><span class="nl">"MaxFolderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Limit</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="err">GB</span><span class="w">
</span><span class="nl">"MaxFolderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">5120</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Limit</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="err">MB</span><span class="w">
</span><span class="nl">"MaxFolderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w">
</span></code></pre></div></div>

<h4 id="size-planning">Size Planning</h4>

<p>Consider these factors when setting folder size:</p>

<ul>
  <li><strong>Video duration</strong>: Longer pre/post event times = larger files</li>
  <li><strong>Image resolution</strong>: Higher resolution = larger files</li>
  <li><strong>Frame rate</strong>: More frames per second = larger files</li>
  <li><strong>Codec</strong>: Different codecs have different compression ratios</li>
  <li><strong>Event frequency</strong>: More frequent events = more videos</li>
</ul>

<p><strong>Example Calculation:</strong></p>
<ul>
  <li>Average video duration: 30 seconds</li>
  <li>Average file size: 5 MB per video</li>
  <li>MaxFolderSize: 250 MB</li>
  <li>Approximate capacity: ~50 videos</li>
</ul>

<h2 id="applying-configuration-changes">Applying Configuration Changes</h2>

<p>After modifying the configuration file:</p>

<h3 id="option-1-restart-the-service">Option 1: Restart the Service</h3>

<ol>
  <li>Open <strong>Windows Services</strong> (services.msc)</li>
  <li>Find <strong>EventVideoPlayback Service</strong></li>
  <li>Right-click and select <strong>Restart</strong></li>
</ol>

<h3 id="option-2-use-command-line">Option 2: Use Command Line</h3>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Stop the service</span><span class="w">
</span><span class="n">net</span><span class="w"> </span><span class="nx">stop</span><span class="w"> </span><span class="s2">"EventVideoPlayback Service"</span><span class="w">

</span><span class="c"># Start the service</span><span class="w">
</span><span class="n">net</span><span class="w"> </span><span class="nx">start</span><span class="w"> </span><span class="s2">"EventVideoPlayback Service"</span><span class="w">
</span></code></pre></div></div>

<h3 id="option-3-reboot">Option 3: Reboot</h3>

<p>A system reboot will also restart the service with the new configuration.</p>

<h2 id="advanced-configuration">Advanced Configuration</h2>

<h3 id="example-high-quality-long-retention">Example: High-Quality, Long Retention</h3>

<p>For critical systems where video quality and retention are important:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CodecFourCC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"avc1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"VideoDeleteTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">Keep</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="err">days</span><span class="w">
  </span><span class="nl">"AdsPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">26129</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MaxFolderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10240</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="err">GB</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="example-space-constrained-short-retention">Example: Space-Constrained, Short Retention</h3>

<p>For systems with limited disk space:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CodecFourCC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"avc1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"VideoDeleteTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">Keep</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="err">hours</span><span class="w">
  </span><span class="nl">"AdsPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">26129</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MaxFolderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="err">MB</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="example-maximum-compression">Example: Maximum Compression</h3>

<p>For maximum file size reduction:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CodecFourCC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hev1"</span><span class="p">,</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">H.</span><span class="mi">265</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">better</span><span class="w"> </span><span class="err">compression</span><span class="w">
  </span><span class="nl">"VideoDeleteTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">Keep</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">week</span><span class="w">
  </span><span class="nl">"AdsPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">26129</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MaxFolderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="err">MB</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="service-management">Service Management</h2>

<h3 id="checking-service-status">Checking Service Status</h3>

<p><strong>Windows Services GUI:</strong></p>
<ol>
  <li>Press <code class="language-plaintext highlighter-rouge">Win + R</code>, type <code class="language-plaintext highlighter-rouge">services.msc</code>, press Enter</li>
  <li>Find ‚ÄúEventVideoPlayback Service‚Äù</li>
  <li>Check the Status column (should show ‚ÄúRunning‚Äù)</li>
</ol>

<p><strong>PowerShell:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Get-Service</span><span class="w"> </span><span class="nt">-Name</span><span class="w"> </span><span class="s2">"EventVideoPlayback*"</span><span class="w">
</span></code></pre></div></div>

<p><strong>Command Prompt:</strong></p>
<pre><code class="language-cmd">sc query "EventVideoPlayback Service"
</code></pre>

<h3 id="starting-the-service">Starting the Service</h3>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Start-Service</span><span class="w"> </span><span class="nt">-Name</span><span class="w"> </span><span class="s2">"EventVideoPlayback Service"</span><span class="w">
</span></code></pre></div></div>

<h3 id="stopping-the-service">Stopping the Service</h3>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Stop-Service</span><span class="w"> </span><span class="nt">-Name</span><span class="w"> </span><span class="s2">"EventVideoPlayback Service"</span><span class="w">
</span></code></pre></div></div>

<h3 id="setting-startup-type">Setting Startup Type</h3>

<p><strong>Automatic (recommended):</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Set-Service</span><span class="w"> </span><span class="nt">-Name</span><span class="w"> </span><span class="s2">"EventVideoPlayback Service"</span><span class="w"> </span><span class="nt">-StartupType</span><span class="w"> </span><span class="nx">Automatic</span><span class="w">
</span></code></pre></div></div>

<p><strong>Manual:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Set-Service</span><span class="w"> </span><span class="nt">-Name</span><span class="w"> </span><span class="s2">"EventVideoPlayback Service"</span><span class="w"> </span><span class="nt">-StartupType</span><span class="w"> </span><span class="nx">Manual</span><span class="w">
</span></code></pre></div></div>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="service-wont-start">Service Won‚Äôt Start</h3>

<p><strong>Check Event Viewer:</strong></p>
<ol>
  <li>Open Event Viewer (eventvwr.msc)</li>
  <li>Navigate to <strong>Windows Logs</strong> &gt; <strong>Application</strong></li>
  <li>Look for errors from source ‚ÄúEventVideoPlayback‚Äù</li>
</ol>

<p><strong>Common Causes:</strong></p>
<ul>
  <li>Missing .NET 8 Runtime</li>
  <li>Invalid configuration file (JSON syntax error)</li>
  <li>Port 26129 already in use</li>
  <li>Insufficient permissions</li>
</ul>

<p><strong>Solutions:</strong></p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Verify .NET 8 Runtime is installed</span><span class="w">
</span><span class="n">dotnet</span><span class="w"> </span><span class="nt">--list-runtimes</span><span class="w">

</span><span class="c"># Check if port is in use</span><span class="w">
</span><span class="n">netstat</span><span class="w"> </span><span class="nt">-ano</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">findstr</span><span class="w"> </span><span class="s2">"26129"</span><span class="w">

</span><span class="c"># Run as administrator</span><span class="w">
</span><span class="n">net</span><span class="w"> </span><span class="nx">start</span><span class="w"> </span><span class="s2">"EventVideoPlayback Service"</span><span class="w">
</span></code></pre></div></div>

<h3 id="configuration-not-taking-effect">Configuration Not Taking Effect</h3>

<ul>
  <li>Verify you saved the configuration file</li>
  <li>Ensure JSON syntax is valid (use a JSON validator)</li>
  <li>Restart the service after changes</li>
  <li>Check file permissions (service must be able to read the file)</li>
</ul>

<h3 id="videos-not-being-deleted">Videos Not Being Deleted</h3>

<ul>
  <li>Verify <code class="language-plaintext highlighter-rouge">VideoDeleteTime</code> is set appropriately</li>
  <li>Check that the service has write permissions to the video folder</li>
  <li>Ensure the system clock is correct</li>
  <li>Review service logs for cleanup errors</li>
</ul>

<h3 id="disk-space-issues">Disk Space Issues</h3>

<p>If you‚Äôre running out of disk space:</p>

<ol>
  <li><strong>Reduce MaxFolderSize:</strong>
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"MaxFolderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Reduce</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="err">MB</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li><strong>Reduce VideoDeleteTime:</strong>
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"VideoDeleteTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Keep</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="err">hours</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li><strong>Manually clean old videos:</strong>
    <ul>
      <li>Navigate to the video output folder</li>
      <li>Delete old MP4 files</li>
      <li>Service will manage space going forward</li>
    </ul>
  </li>
</ol>

<h3 id="performance-issues">Performance Issues</h3>

<p>If video creation is slow:</p>

<ul>
  <li><strong>Check CPU usage</strong>: Video encoding is CPU-intensive</li>
  <li><strong>Use faster storage</strong>: SSD is recommended for video output</li>
  <li><strong>Reduce image resolution</strong>: Lower resolution = faster encoding</li>
  <li><strong>Consider codec</strong>: H.264 (avc1) is generally fastest</li>
</ul>

<h2 id="monitoring-and-logging">Monitoring and Logging</h2>

<h3 id="log-file-location">Log File Location</h3>

<p>Service logs are typically located at:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:\Program Files\Beckhoff USA Community\EventVideoPlayback\Service\Logs\
</code></pre></div></div>

<h3 id="log-contents">Log Contents</h3>

<p>Logs include:</p>
<ul>
  <li>Service startup and shutdown events</li>
  <li>Video creation requests and completions</li>
  <li>File cleanup operations</li>
  <li>Errors and warnings</li>
  <li>ADS communication status</li>
</ul>

<h3 id="viewing-logs">Viewing Logs</h3>

<p>Use any text editor or PowerShell:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># View latest log file</span><span class="w">
</span><span class="n">Get-Content</span><span class="w"> </span><span class="s2">"C:\Program Files\Beckhoff USA Community\EventVideoPlayback\Service\Logs\*.log"</span><span class="w"> </span><span class="nt">-Tail</span><span class="w"> </span><span class="nx">50</span><span class="w">
</span></code></pre></div></div>

<h2 id="best-practices">Best Practices</h2>

<ol>
  <li><strong>Regular Monitoring</strong>: Check service status weekly</li>
  <li><strong>Disk Space</strong>: Ensure adequate free space (at least 2x MaxFolderSize)</li>
  <li><strong>Backup Configuration</strong>: Keep a copy of your configuration file</li>
  <li><strong>Test Changes</strong>: Test configuration changes in a development environment first</li>
  <li><strong>Document Settings</strong>: Document why you chose specific values</li>
</ol>

<h2 id="next-steps">Next Steps</h2>

<ul>
  <li>Learn about <a href="/EventVideoPlayback/docs/plc-usage/">PLC Library Usage</a></li>
  <li>Set up <a href="/EventVideoPlayback/docs/hmi-usage/">HMI Controls</a></li>
  <li>Review <a href="/EventVideoPlayback/docs/getting-started/">Getting Started</a></li>
</ul>

          </div>

          <hr style="margin-top: 4rem; margin-bottom: 2rem;">

          <div style="text-align: center;">
            <a href="/EventVideoPlayback/" class="btn btn-primary">‚Üê Back to Home</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// Mobile TOC toggle
document.addEventListener('DOMContentLoaded', function() {
  const toggle = document.getElementById('mobile-toc-toggle');
  const sidebar = document.getElementById('doc-sidebar');

  if (toggle && sidebar) {
    toggle.addEventListener('click', function() {
      sidebar.classList.toggle('mobile-open');
      toggle.classList.toggle('open');
    });

    // Close sidebar when clicking outside
    document.addEventListener('click', function(e) {
      if (window.innerWidth < 1024) {
        if (!sidebar.contains(e.target) && !toggle.contains(e.target)) {
          sidebar.classList.remove('mobile-open');
          toggle.classList.remove('open');
        }
      }
    });
  }
});
</script>


  </main>

  <footer class="site-footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-section">
        <h3>Event Video Playback</h3>
        <p>Transform TwinCAT Vision images into event-driven video recordings for industrial automation.</p>
      </div>

      <div class="footer-section">
        <h3>Documentation</h3>
        <ul>
          <li><a href="/EventVideoPlayback/docs/getting-started/">Getting Started</a></li>
          <li><a href="/EventVideoPlayback/docs/plc-usage/">PLC Library Usage</a></li>
          <li><a href="/EventVideoPlayback/docs/service-config/">Service Configuration</a></li>
          <li><a href="/EventVideoPlayback/docs/hmi-usage/">HMI User Control</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h3>Resources</h3>
        <ul>
          <li><a href="https://github.com/Beckhoff-USA-Community/EventVideoPlayback" target="_blank">GitHub Repository</a></li>
          <li><a href="https://packages.beckhoff-usa-community.com/" target="_blank">Package Feed</a></li>
          <li><a href="https://github.com/Beckhoff-USA-Community/EventVideoPlayback/issues" target="_blank">Report Issues</a></li>
          <li><a href="https://github.com/Beckhoff-USA-Community" target="_blank">Beckhoff USA Community</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h3>Community</h3>
        <ul>
          <li><a href="https://github.com/Beckhoff-USA-Community" target="_blank">Beckhoff USA Community</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; 2025 Beckhoff USA Community | Licensed under MIT License</p>
    </div>
  </div>
</footer>


  <script src="/EventVideoPlayback/assets/js/main.js"></script>
</body>
</html>
